<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ED2K 链接净化器</title>
    <link rel="stylesheet" href="src/style.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>🔗 ED2K 链接净化器</h1>
        </header>
        
        <main class="app-content">
            <!-- Input Section -->
            <section class="panel input-panel">
                <div class="panel-header">
                    <label for="inputText">原始链接</label>
                    <div class="actions">
                        <button onclick="purifyLinks()" class="btn-primary" title="快捷键: Ctrl+Enter">✨ 净化</button>
                        <button onclick="clearAll()" class="btn-icon" title="清空内容 (Ctrl+R)">🗑️</button>
                    </div>
                </div>
                <textarea id="inputText" placeholder="请粘贴包含ed2k链接的文本..."></textarea>
                <div class="help-text">支持：HTML标签、URL编码及包含中文干扰的乱码链接</div>
            </section>

            <!-- Output Section -->
            <section class="panel output-panel">
                <div class="panel-header">
                    <label for="outputText">净化结果</label>
                    <button id="copyBtn" onclick="copyOutput()" class="btn-secondary" disabled>📋 复制</button>
                </div>
                <textarea id="outputText" readonly placeholder="净化后的链接将显示在此处..."></textarea>
                
                <!-- Failed Links (Conditional) -->
                <div id="failedSection" class="failed-container" style="display: none;">
                    <div class="failed-header">
                        <label for="failedText">⚠️ 无法识别的链接</label>
                    </div>
                    <textarea id="failedText" readonly></textarea>
                </div>

                <!-- Stats Bar -->
                <div id="stats" class="stats-bar">
                    <div class="stat-item">
                        <span class="stat-label">总数</span>
                        <span class="stat-value" id="totalCount">0</span>
                    </div>
                    <div class="stat-item success">
                        <span class="stat-label">有效</span>
                        <span class="stat-value" id="validCount">0</span>
                    </div>
                    <div class="stat-item warning">
                        <span class="stat-label">重复</span>
                        <span class="stat-value" id="duplicateCount">0</span>
                    </div>
                    <div class="stat-item error">
                        <span class="stat-label">失败</span>
                        <span class="stat-value" id="invalidCount">0</span>
                    </div>
                </div>
            </section>
        </main>
        
        <div id="toast" class="toast"></div>
    </div>
    <script src="src/purifier.js"></script>
</body>
</html>
